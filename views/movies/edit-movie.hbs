<!-- views/movies/edit-movie.hbs -->
<h2>Edit Movie</h2>
<form action="/movies/{{movie._id}}/edit" method="POST">
  <label>Title:</label>
  <input type="text" name="title" value="{{movie.title}}" required>
  <label>Genre:</label>
  <input type="text" name="genre" value="{{movie.genre}}" required>
  <label>Plot:</label>
  <textarea name="plot" required>{{movie.plot}}</textarea>
  <label>Cast:</label>
  <select name="cast" multiple>
    {{#each celebrities}}
      <option value="{{this._id}}" {{#if (isInArray this._id ../movie.cast)}}selected{{/if}}>
        {{this.name}}
      </option>
    {{/each}}
  </select>
  <button type="submit">Update Movie</button>
</form>


module.exports = {
  isInArray: (elem, list) => {
    return list.includes(elem.toString()) ? 'selected' : '';
  }
};
